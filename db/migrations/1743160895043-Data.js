module.exports = class Data1743160895043 {
    name = 'Data1743160895043'

    async up(db) {
        await db.query(`CREATE TABLE "nftaa_entity" ("id" character varying NOT NULL, "block_number" numeric, "address" text NOT NULL, "created_at" TIMESTAMP WITH TIME ZONE NOT NULL, "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL, "version" integer NOT NULL, "hash" text NOT NULL, "collection_id" character varying, CONSTRAINT "PK_96f18d58a44c13956c7498f72e5" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_eb506f89587094be53e7ba6c4f" ON "nftaa_entity" ("collection_id") `)
        await db.query(`CREATE INDEX "IDX_7ff29b76cf5125e01c577f78a9" ON "nftaa_entity" ("block_number") `)
        await db.query(`CREATE INDEX "IDX_530e9446c5c5b1cf477e15f5c4" ON "nftaa_entity" ("address") `)
        await db.query(`CREATE INDEX "IDX_159b83e62324f4823a161f2247" ON "nftaa_entity" ("created_at") `)
        await db.query(`CREATE INDEX "IDX_c984c88a11739c92a249d2fbdc" ON "nftaa_entity" ("updated_at") `)
        await db.query(`CREATE INDEX "IDX_74cc95da665289486ab53b11bd" ON "nftaa_entity" ("hash") `)
        await db.query(`CREATE TABLE "nftaa_transfer" ("id" character varying NOT NULL, "block_number" numeric, "created_at" TIMESTAMP WITH TIME ZONE NOT NULL, "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL, "version" integer NOT NULL, "hash" text NOT NULL, "from" text NOT NULL, "to" text NOT NULL, "nftaa_id" character varying, CONSTRAINT "PK_a190498d79895a799b88310eae4" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_0ce8b6bb5911b71635a5e020e1" ON "nftaa_transfer" ("nftaa_id") `)
        await db.query(`CREATE INDEX "IDX_ef5b024f9f9144864e34703aa4" ON "nftaa_transfer" ("block_number") `)
        await db.query(`CREATE INDEX "IDX_bdf36d7ff8a4704fa7f3b09b4d" ON "nftaa_transfer" ("created_at") `)
        await db.query(`CREATE INDEX "IDX_7d8608e1885e882d7738d3b198" ON "nftaa_transfer" ("updated_at") `)
        await db.query(`CREATE INDEX "IDX_2afa7397c55193b0b95c7bd789" ON "nftaa_transfer" ("hash") `)
        await db.query(`CREATE TABLE "nftaa_proxy_execution" ("id" character varying NOT NULL, "block_number" numeric, "created_at" TIMESTAMP WITH TIME ZONE NOT NULL, "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL, "version" integer NOT NULL, "hash" text NOT NULL, "nftaa_id" character varying, CONSTRAINT "PK_22ec91974ded420c06e847f439c" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_4f8ff5395cd74b0f966845bf07" ON "nftaa_proxy_execution" ("nftaa_id") `)
        await db.query(`CREATE INDEX "IDX_38e5f0b25c137e88734fef2ed5" ON "nftaa_proxy_execution" ("block_number") `)
        await db.query(`CREATE INDEX "IDX_8cc523c7f142074fe8559e15fb" ON "nftaa_proxy_execution" ("created_at") `)
        await db.query(`CREATE INDEX "IDX_96115b69bfbd0a71bab464a23d" ON "nftaa_proxy_execution" ("updated_at") `)
        await db.query(`CREATE INDEX "IDX_e62ef0fff9024201e16745c66b" ON "nftaa_proxy_execution" ("hash") `)
        await db.query(`ALTER TABLE "collection_event" DROP COLUMN "interaction"`)
        await db.query(`ALTER TABLE "collection_event" ADD "interaction" character varying(14) NOT NULL`)
        await db.query(`ALTER TABLE "event" DROP COLUMN "interaction"`)
        await db.query(`ALTER TABLE "event" ADD "interaction" character varying(14) NOT NULL`)
        await db.query(`ALTER TABLE "nftaa_entity" ADD CONSTRAINT "FK_eb506f89587094be53e7ba6c4fd" FOREIGN KEY ("collection_id") REFERENCES "collection_entity"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "nftaa_transfer" ADD CONSTRAINT "FK_0ce8b6bb5911b71635a5e020e1e" FOREIGN KEY ("nftaa_id") REFERENCES "nftaa_entity"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "nftaa_proxy_execution" ADD CONSTRAINT "FK_4f8ff5395cd74b0f966845bf07f" FOREIGN KEY ("nftaa_id") REFERENCES "nftaa_entity"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    }

    async down(db) {
        await db.query(`DROP TABLE "nftaa_entity"`)
        await db.query(`DROP INDEX "public"."IDX_eb506f89587094be53e7ba6c4f"`)
        await db.query(`DROP INDEX "public"."IDX_7ff29b76cf5125e01c577f78a9"`)
        await db.query(`DROP INDEX "public"."IDX_530e9446c5c5b1cf477e15f5c4"`)
        await db.query(`DROP INDEX "public"."IDX_159b83e62324f4823a161f2247"`)
        await db.query(`DROP INDEX "public"."IDX_c984c88a11739c92a249d2fbdc"`)
        await db.query(`DROP INDEX "public"."IDX_74cc95da665289486ab53b11bd"`)
        await db.query(`DROP TABLE "nftaa_transfer"`)
        await db.query(`DROP INDEX "public"."IDX_0ce8b6bb5911b71635a5e020e1"`)
        await db.query(`DROP INDEX "public"."IDX_ef5b024f9f9144864e34703aa4"`)
        await db.query(`DROP INDEX "public"."IDX_bdf36d7ff8a4704fa7f3b09b4d"`)
        await db.query(`DROP INDEX "public"."IDX_7d8608e1885e882d7738d3b198"`)
        await db.query(`DROP INDEX "public"."IDX_2afa7397c55193b0b95c7bd789"`)
        await db.query(`DROP TABLE "nftaa_proxy_execution"`)
        await db.query(`DROP INDEX "public"."IDX_4f8ff5395cd74b0f966845bf07"`)
        await db.query(`DROP INDEX "public"."IDX_38e5f0b25c137e88734fef2ed5"`)
        await db.query(`DROP INDEX "public"."IDX_8cc523c7f142074fe8559e15fb"`)
        await db.query(`DROP INDEX "public"."IDX_96115b69bfbd0a71bab464a23d"`)
        await db.query(`DROP INDEX "public"."IDX_e62ef0fff9024201e16745c66b"`)
        await db.query(`ALTER TABLE "collection_event" ADD "interaction" character varying(12) NOT NULL`)
        await db.query(`ALTER TABLE "collection_event" DROP COLUMN "interaction"`)
        await db.query(`ALTER TABLE "event" ADD "interaction" character varying(12) NOT NULL`)
        await db.query(`ALTER TABLE "event" DROP COLUMN "interaction"`)
        await db.query(`ALTER TABLE "nftaa_entity" DROP CONSTRAINT "FK_eb506f89587094be53e7ba6c4fd"`)
        await db.query(`ALTER TABLE "nftaa_transfer" DROP CONSTRAINT "FK_0ce8b6bb5911b71635a5e020e1e"`)
        await db.query(`ALTER TABLE "nftaa_proxy_execution" DROP CONSTRAINT "FK_4f8ff5395cd74b0f966845bf07f"`)
    }
}
